(function(){var t={3439:function(t,e,r){"use strict";r.r(e),e["default"]={id:"cloud-usage",viewBox:"0 0 33.062 33.062",url:r.p+"img/icons.8a87341e.svg#cloud",toString:function(){return this.url}}},9910:function(t,e,r){"use strict";r.r(e),e["default"]={id:"location-usage",viewBox:"0 0 51.636 51.636",url:r.p+"img/icons.8a87341e.svg#location",toString:function(){return this.url}}},8645:function(t,e,r){"use strict";r.r(e),e["default"]={id:"partly-usage",viewBox:"0 0 256 256",url:r.p+"img/icons.8a87341e.svg#partly",toString:function(){return this.url}}},9060:function(t,e,r){"use strict";r.r(e),e["default"]={id:"rain-usage",viewBox:"0 0 516.301 516.301",url:r.p+"img/icons.8a87341e.svg#rain",toString:function(){return this.url}}},7180:function(t,e,r){"use strict";r.r(e),e["default"]={id:"snow-usage",viewBox:"0 0 489 489",url:r.p+"img/icons.8a87341e.svg#snow",toString:function(){return this.url}}},1578:function(t,e,r){"use strict";r.r(e),e["default"]={id:"storm-usage",viewBox:"0 0 516.4 516.4",url:r.p+"img/icons.8a87341e.svg#storm",toString:function(){return this.url}}},6418:function(t,e,r){"use strict";r.r(e),e["default"]={id:"sun-usage",viewBox:"0 0 612 612",url:r.p+"img/icons.8a87341e.svg#sun",toString:function(){return this.url}}},2833:function(t,e,r){"use strict";var n=r(9242),i=r(3396);const a={class:"wrapper"};function o(t,e,r,n,o,s){const u=(0,i.up)("Auth"),c=(0,i.up)("Loader"),h=(0,i.up)("StartPage");return(0,i.wg)(),(0,i.iD)("div",a,[t.apiKey?t.currentCity?((0,i.wg)(),(0,i.j4)(h,{key:2})):((0,i.wg)(),(0,i.j4)(c,{key:1})):((0,i.wg)(),(0,i.j4)(u,{key:0}))])}const s=t=>((0,i.dD)("data-v-6cdfc522"),t=t(),(0,i.Cn)(),t),u={class:"auth"},c=s((()=>(0,i._)("h2",{class:"auth__title"},"Authorisation",-1))),h={class:"auth__input"},l={class:"auth__actions"},d=s((()=>(0,i._)("a",{class:"auth__button auth__link",target:"_blank",href:"https://home.openweathermap.org/users/sign_up/"}," Register ",-1))),p=s((()=>(0,i._)("p",{class:"auth__about"},[(0,i.Uk)(" Hello, wanderer! "),(0,i._)("br"),(0,i.Uk)(" We use third - party API to collect weather data. "),(0,i._)("br"),(0,i.Uk)(" Please register on "),(0,i._)("a",{href:"https://home.openweathermap.org/users/sign_up/",target:"_blank"}," openweathermap "),(0,i.Uk)(" and get your free API key for log in to the application. "),(0,i._)("br"),(0,i._)("br"),(0,i.Uk)(" Good weather! ")],-1)));function m(t,e,r,a,o,s){return(0,i.wg)(),(0,i.iD)("div",u,[c,(0,i._)("div",h,[(0,i.wy)((0,i._)("input",{type:"text",name:"auth-input",placeholder:"Enter your api key...","onUpdate:modelValue":e[0]||(e[0]=t=>o.inputAPI=t),onKeydown:e[1]||(e[1]=(0,n.D2)(((...t)=>s.chechKey&&s.chechKey(...t)),["enter"]))},null,544),[[n.nr,o.inputAPI]])]),(0,i._)("div",l,[(0,i._)("button",{class:"auth__button",type:"submit",onClick:e[2]||(e[2]=(...t)=>s.chechKey&&s.chechKey(...t))}," Log In "),d]),p])}var f=r(65),_=r(6265),v=r.n(_),g={name:"auth-page",data(){return{inputAPI:""}},methods:{submitCurrentAPI(){this.setCurrentApi(this.inputAPI)},async chechKey(){if(""!==this.inputAPI)try{const t=await v().get(`https://api.openweathermap.org/data/2.5/weather?q=London&appid=${this.inputAPI}`).then((t=>t.status));200===t&&(document.cookie=`key=${this.inputAPI}`,this.submitCurrentAPI())}catch(t){console.log(t)}},...(0,f.OI)(["setCurrentApi"])}},y=r(89);const w=(0,y.Z)(g,[["render",m],["__scopeId","data-v-6cdfc522"]]);var C=w;const b={class:"loader"};function I(t,e,r,n,a,o){return(0,i.wg)(),(0,i.iD)("div",b)}var W={name:"loader-block",created(){this.setWeatherByCoords()},methods:(0,f.nv)(["setWeatherByCoords"])};const k=(0,y.Z)(W,[["render",I]]);var P=k;const S={class:"startpage"},T={class:"header"};function x(t,e,r,n,a,o){const s=(0,i.up)("Location"),u=(0,i.up)("TemperatureScale"),c=(0,i.up)("Main"),h=(0,i.up)("Footer");return(0,i.wg)(),(0,i.iD)("div",S,[(0,i._)("div",T,[(0,i.Wm)(s),(0,i.Wm)(u)]),(0,i.Wm)(c),(0,i.Wm)(h)])}var O=r(7139);const A={class:"location"},F={key:0,class:"location__search"},D={key:1,class:"location__info"},B={class:"location__managment"},K={class:"location__mycoordinates"};function j(t,e,r,a,o,s){const u=(0,i.up)("SvgIcon");return(0,i.wg)(),(0,i.iD)("div",A,[o.inChanges?((0,i.wg)(),(0,i.iD)("div",F,[(0,i.wy)((0,i._)("input",{type:"text",name:"city-search",placeholder:"Search for a lovely place...",title:"Must contain only Latin letters spaces and hyphens",autocomplete:"off","onUpdate:modelValue":e[0]||(e[0]=t=>o.inputCity=t),onInput:e[1]||(e[1]=(...t)=>s.validateSearch&&s.validateSearch(...t)),onKeydown:e[2]||(e[2]=(0,n.D2)(((...t)=>s.submitCurrentCity&&s.submitCurrentCity(...t)),["enter"]))},null,544),[[n.nr,o.inputCity]]),(0,i._)("input",{type:"submit",value:"OK",onClick:e[3]||(e[3]=(...t)=>s.submitCurrentCity&&s.submitCurrentCity(...t))})])):((0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("h3",{class:"location__name",onClick:e[4]||(e[4]=(...t)=>s.editCurrentCity&&s.editCurrentCity(...t))},(0,O.zw)(t.currentCity),1),(0,i._)("div",B,[(0,i._)("h6",{class:"location__change",onClick:e[5]||(e[5]=(...t)=>s.editCurrentCity&&s.editCurrentCity(...t))},"Change Region"),(0,i._)("div",K,[(0,i.Wm)(u,{name:"location",className:"location__icon"}),(0,i._)("p",{onClick:e[6]||(e[6]=(...e)=>t.setWeatherByCoords&&t.setWeatherByCoords(...e))},"My Location")])])]))])}const z=["xlink:href"];function M(t,e,r,n,a,o){return(0,i.wg)(),(0,i.iD)("svg",{class:(0,O.C_)(r.className),xmlns:"http://www.w3.org/2000/svg"},[(0,i._)("use",{"xlink:href":o.iconPath,"xmlns:xlink":"http://www.w3.org/1999/xlink"},null,8,z)],2)}var $={name:"svg-icon",props:{name:{type:String,required:!0},className:{type:String,default:null}},computed:{iconPath(){let t=r(2498)(`./${this.name}.svg`);return Object.prototype.hasOwnProperty.call(t,"default")&&(t=t.default),t.url}}};const U=(0,y.Z)($,[["render",M]]);var L=U,N={name:"location-block",data(){return{inputCity:"",beforeEditCity:this.inputCity,inChanges:!1}},computed:(0,f.rn)(["currentCity"]),components:{SvgIcon:L},methods:{editCurrentCity(){this.$el.style.zIndex=1,this.beforeEditCity=this.inputCity,this.inputCity="",this.inChanges=!0},submitCurrentCity(){""!==this.inputCity?(this.setCurrentCity(this.strBeautify(this.inputCity)),this.setWeatherByName()):this.inputCity=this.beforeEditCity,this.inChanges=!1,this.$el.style.zIndex=0},strBeautify(t){const e=t.toLowerCase(),r=e.charAt(0).toUpperCase()+e.slice(1);return r},validateSearch(t){this.inputCity=t.target.value.replace(/[^A-z,a-z,\s,-]/g,"")},...(0,f.OI)(["setCurrentCity"]),...(0,f.nv)(["setWeatherByCoords","setWeatherByName"])}};const Z=(0,y.Z)(N,[["render",j],["__scopeId","data-v-fd5e8e18"]]);var E=Z;const R={class:"temperature-scale"},q=(0,i._)("p",{class:"temperature-scale__degree"},"ยบ",-1),H={class:"temperature-scale__toggle"},V=(0,i._)("input",{id:"celsus",type:"radio",name:"radio",value:"on",checked:""},null,-1),G=(0,i._)("label",{for:"celsus"},"C",-1),J=[V,G],Q=(0,i._)("input",{id:"fahrenheit",type:"radio",name:"radio",value:"off"},null,-1),X=(0,i._)("label",{for:"fahrenheit"},"F",-1),Y=[Q,X];function tt(t,e,r,n,a,o){return(0,i.wg)(),(0,i.iD)("div",R,[q,(0,i._)("div",H,[(0,i._)("div",{onClick:e[0]||(e[0]=(...t)=>o.setTemperatureInCelsius&&o.setTemperatureInCelsius(...t)),class:"temperature-scale__items temperature-scale__item-1"},J),(0,i._)("div",{onClick:e[1]||(e[1]=(...t)=>o.setTemperatureInFahrenheit&&o.setTemperatureInFahrenheit(...t)),class:"temperature-scale__items temperature-scale__item-2"},Y)])])}var et={name:"temperature-scale",methods:{setTemperatureInFahrenheit(){this.toggleFahrenheitTemperature(!0)},setTemperatureInCelsius(){this.toggleFahrenheitTemperature(!1)},...(0,f.OI)(["toggleFahrenheitTemperature"])}};const rt=(0,y.Z)(et,[["render",tt]]);var nt=rt;const it={class:"main"},at={class:"main__head"},ot={class:"main__temperature"},st={class:"main__info"};function ut(t,e,r,n,a,o){const s=(0,i.up)("SvgIcon");return(0,i.wg)(),(0,i.iD)("div",it,[(0,i._)("div",at,[(0,i.Wm)(s,{className:"main__icon",name:o.addWeatherIcon},null,8,["name"]),(0,i._)("div",ot,(0,O.zw)(t.inFahrenheit?t.fahrenheitTemperature:o.celsiusTemperature)+"ยบ ",1)]),(0,i._)("div",st,(0,O.zw)(o.weatherInfo),1)])}function ct(t){return 9*(t-273.15)/5+32}function ht(t){return t-273.15}function lt(t){return.75006*t}var dt={name:"main-weather",components:{SvgIcon:L},computed:{celsiusTemperature(){const t=this.currentWeather.main.temp;return Math.round(ht(parseInt(t,10)))},weatherInfo(){return this.currentWeather.weather[0].description},addWeatherIcon(){return this.choseWeatherIcon()},...(0,f.rn)(["currentWeather","inFahrenheit","fahrenheitTemperature"])},methods:{choseWeatherIcon(){return"Clear"===this.currentWeather.weather[0].main?"sun":"Rain"===this.currentWeather.weather[0].main?"rain":"Snow"===this.currentWeather.weather[0].main?"snow":"overcast clouds"===this.currentWeather.weather[0].description?"cloud":"Clouds"===this.currentWeather.weather[0].main?"partly":"Mist"===this.currentWeather.weather[0].main?"cloud":"location"}}};const pt=(0,y.Z)(dt,[["render",ut],["__scopeId","data-v-090fdd01"]]);var mt=pt;const ft=t=>((0,i.dD)("data-v-672c63c6"),t=t(),(0,i.Cn)(),t),_t={class:"footer"},vt={class:"footer__item"},gt=ft((()=>(0,i._)("div",{class:"footer__subtitle"},"Wind",-1))),yt={class:"footer__info"},wt={class:"footer__item"},Ct=ft((()=>(0,i._)("div",{class:"footer__subtitle"},"Pressure",-1))),bt={class:"footer__info"},It={class:"footer__item"},Wt=ft((()=>(0,i._)("div",{class:"footer__subtitle"},"Humidity",-1))),kt={class:"footer__info"},Pt={class:"footer__item"},St=ft((()=>(0,i._)("div",{class:"footer__subtitle"},"Visibility",-1))),Tt={class:"footer__info"};function xt(t,e,r,n,a,o){return(0,i.wg)(),(0,i.iD)("div",_t,[(0,i._)("div",vt,[gt,(0,i._)("div",yt,(0,O.zw)(this.wind)+" m/s, "+(0,O.zw)(this.windDirection),1)]),(0,i._)("div",wt,[Ct,(0,i._)("div",bt,(0,O.zw)(this.pressure)+" mmHg",1)]),(0,i._)("div",It,[Wt,(0,i._)("div",kt,(0,O.zw)(this.humidity)+" %",1)]),(0,i._)("div",Pt,[St,(0,i._)("div",Tt,(0,O.zw)(this.visibility)+" m",1)])])}var Ot={name:"footer-weather",computed:{wind(){return this.currentWeather.wind.speed.toFixed(1)},windDirection(){return this.convertWindDirection(this.currentWeather.wind.deg)},pressure(){const t=this.currentWeather.main.pressure;return Math.round(lt(parseInt(t,10)))},humidity(){return this.currentWeather.main.humidity},visibility(){return this.currentWeather.visibility},...(0,f.rn)(["currentWeather"])},methods:{convertWindDirection(t){return t>338||t<=23?"north":t>23&&t<=68?"north-east":t>68&&t<=113?"east":t>113&&t<=158?"south-east":t>158&&t<=203?"south":t>203&&t<=248?"south-west":t>248&&t<=293?"west":t>293&&t<=338?"north-west":void 0}}};const At=(0,y.Z)(Ot,[["render",xt],["__scopeId","data-v-672c63c6"]]);var Ft=At,Dt={name:"start-page",components:{Location:E,TemperatureScale:nt,Main:mt,Footer:Ft}};const Bt=(0,y.Z)(Dt,[["render",x]]);var Kt=Bt;function jt(t){let e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}var zt={name:"App",components:{Auth:C,Loader:P,StartPage:Kt},created(){jt("key")&&this.setCurrentApi(jt("key"))},computed:(0,f.rn)(["apiKey","currentCity"]),methods:(0,f.OI)(["setCurrentApi"])};const Mt=(0,y.Z)(zt,[["render",o]]);var $t=Mt;const Ut=(0,f.MT)({state(){return{currentCity:"",currentWeather:{},apiKey:"",currentPosition:{},inFahrenheit:!1,fahrenheitTemperature:""}},mutations:{setCurrentCity(t,e){t.currentCity=e},setCurrentWeather(t,e){t.currentWeather=e},setCurrentPosition(t,e){t.currentPosition=e},toggleFahrenheitTemperature(t,e){t.inFahrenheit=e},setFahrenheitTemperature(t,e){t.fahrenheitTemperature=e},setCurrentApi(t,e){t.apiKey=e}},actions:{async setWeatherByName(t){try{const e=await v().get(`https://api.openweathermap.org/data/2.5/weather?q=${this.state.currentCity}&appid=${this.state.apiKey}`).then((t=>t.data));t.commit("setCurrentWeather",e),t.commit("setFahrenheitTemperature",ct(e.main.temp).toFixed(0))}catch{alert("Incorrect name")}},async setWeatherByCoords(t){function e(){return new Promise((function(t,e){navigator.geolocation.getCurrentPosition(t,e)}))}await e().then((e=>t.commit("setCurrentPosition",e.coords)));try{const e=await v().get(`https://api.openweathermap.org/data/2.5/weather?lat=${this.state.currentPosition.latitude}&lon=${this.state.currentPosition.longitude}&appid=${this.state.apiKey}`).then((t=>t.data));t.commit("setCurrentWeather",e),t.commit("setCurrentCity",e.name),t.commit("setFahrenheitTemperature",ct(e.main.temp).toFixed(0))}catch{alert("Something went wrong")}}}});(0,n.ri)($t).use(Ut).mount("#app")},2498:function(t,e,r){var n={"./cloud.svg":3439,"./location.svg":9910,"./partly.svg":8645,"./rain.svg":9060,"./snow.svg":7180,"./storm.svg":1578,"./sun.svg":6418};function i(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=2498}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,n,i,a){if(!n){var o=1/0;for(h=0;h<t.length;h++){n=t[h][0],i=t[h][1],a=t[h][2];for(var s=!0,u=0;u<n.length;u++)(!1&a||o>=a)&&Object.keys(r.O).every((function(t){return r.O[t](n[u])}))?n.splice(u--,1):(s=!1,a<o&&(o=a));if(s){t.splice(h--,1);var c=i();void 0!==c&&(e=c)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[n,i,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p=""}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,a,o=n[0],s=n[1],u=n[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)var h=u(r)}for(e&&e(n);c<o.length;c++)a=o[c],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(h)},n=self["webpackChunkweather"]=self["webpackChunkweather"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(2833)}));n=r.O(n)})();
//# sourceMappingURL=app.fd5bc90c.js.map